
 <!DOCTYPE>
<html lang="en">

<head>
    <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Vessel mechineries">
	<meta name="author" content="Azibodusi Osain">

	<title>Ship mechineries analysis and emission prediction base on the mechineries</title>

	<!-- Bootstrap Core CSS -->
	<!--<link href="libs/bootstrap.min.css" rel="stylesheet"> -->


	<!-- Bootstrap Core JavaScript -->
	<!-- <script src="libs/bootstrap.min.js"></script> -->



    <!--Import master script-->
<script src="machinery.js"></script>


	<!--Import library-->
	<!-- <script src="../build/vessel.js"></script> -->


</head>

<body>
<style>

.topnav {
overflow: hidden;
background-color: #333;

}
.topnav a:hover {
  background-color: #ddd;
  color: black;
}
.topnav a {
  float: left;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}
.topnav a.active {
  background-color: #4CAF50;
  color: white;
}
.container {
 margin: auto;
  text-align: center;
  padding: auto;

}

.form{
  display: block;
  margin:  auto;
}
.border {
  border: solid gray 2px;
  background-color:
}
.row{
  display: flex;

}

h3 {
  text-align: center;
}
.notics{
  background-color: red;
  text-align: center;
}

.column {
  flex: 50%;
  padding: 40px;

}
.range {
  width: 60%;
  margin: auto;
}
p {
  padding-left: 10%;
}
 .inputValue {
   padding-left: 15px;

 }
</style>

<div class="topnav">
  <a class="active" href="#home">Home</a>
  <a href="https://github.com/osain-az/Vessel-Machinery">GitHub Rep</a>
   <a href="Flowchat.html"> Flowchat</a>
 <!--  <a href="#about"></a> -->
</div>

<div class="col-md-12 text-center">

</div>
<div class="container" >
  <h1>Ship machinery and analysis  </h1>

		</div>
		<div  >
		<form  id="simple_form" class="form">

			 <p class="P_range">Ship resistance kN: <input type="range" max="10000" min="10" id="resistance" class="range" onchange="getValues(event)"> or
         <input type="text" onchange="getValues(event)"  id="resistanceInput"><span class="inputValue"id="resistanceValue"> </span><br> </p>

		 <p>	Ship speed Knots: <input type="range" max="60" min="5"id="speed" class="range" onchange="getValues(event)"> or
       <input type="text" onchange="getValues(event)" id="speedinput"><span  class="inputValue" id="speedValue"> </span><br> </p>

    <p>  max voyage in days: <input type="range" max="20" min="0.5" id="voyage" class="range" onchange="getValues(event)">or
      <input type="text" onchange="getValues(event)" id="voyageInput"><span  class="inputValue" id="voyageValue"> </span> </p>

			</form>
		</div>

  </div>


<div class="border">
   <h3>Choose options that apply to your ship</h3>
    <h4 class="notics">Note: the IMO requlations and Scrubber configuration has not been implimented </h4>

 <div class=" row"  >

     <div class="column">
       <select  id="choosefuel" onchange="sellectFuel(event)">
        <option value="" selected>Fuel Alternative</option>
        <option value="LNG">LNG</option>
        <option value="hydrogen">Hydrogen</option>
        <option value="MGO">MGO</option>
        <option value="HFO">HFO</option>
        </select>
     </div>
     <div class="Scrubber column">
        <h3>install Scrubber </h3>
        yes:<input type="radio" name="Scrubber" value="yes"><br>
        no:  <input type="radio"  name="Scrubber" value="no"><br>
     </div >

     <div class="column"  >
     <h3>IMO Regulation</h3>
       <select>
        <option value="" selected>regulations that apply</option>
        <option value=""></option>
        <option value=""></option>
        <option value=""></option>
        <option value=""></option>
        </select>
     </div>
 </div>
 </div>

<div class="result_container row" id="result_container">
  <div class="column" id="tank_volume">
  </div>
  <div class="column" id="mass" >
  </div>
  <div class="column" id="power">

  </div>
</div>
<p></p>
 </div>

</body>
<html>
 <script>


 var resistance, speed, voyage, fuel_Consumption, fuelName;



	 const requirePower = new Mechineries();
	 // console.log(lng.calculatePower.speed)

// Get the speed and the resistance that was input by the user
 function getValues(event){
   //speed =  document.getElementById('speedinput').value
   //resistance = document.getElementById('resistance').value
   //resistance = document.getElementById('resistanceInput').value
   //voyage = document.getElementById('voyage').value
  const EventID = event.target.id;

 if (EventID ==='speed' || EventID === 'speedinput') {

   speed = event.target.value
   console.log("the new speed ", speed)
   document.getElementById('speedValue').innerHTML=speed + " knots"

   if (EventID ==='speedinput') {
     document.getElementById(EventID).value = ""

   }

 }
 else if (EventID === 'resistance'|| EventID === 'resistanceInput' ) {

   resistance = event.target.value
   document.getElementById('resistanceValue').innerHTML=resistance + " kN"

   if (EventID==='resistanceInput') {
     document.getElementById(EventID).value = ""
   }
    console.log("the new resistance", resistance )

 }

 else if (EventID === 'voyage' || EventID ==='voyageInput' ) {
   voyage = event.target.value
   document.getElementById('voyageValue').innerHTML=voyage + " days"
   if (EventID === 'voyageInput') {
     document.getElementById(EventID).value = ""
   }
    console.log("the new voyage ", voyage)
 }

 if(speed && resistance && voyage){
    requirePower.calculatePower(speed,resistance,voyage)

  }
  else if (speed && resistance) {
    requirePower.calculatePower(speed,resistance)

  }
  if (fuelName==='LNG') {
    sellectFuel();

  }

  }

  function sellectFuel(event){
      const EventID = event.target.id;
   fuelName = document.getElementById("choosefuel").value;
  //document.getElementById("demo").innerHTML =
  //console.log(fuel_Consumption.power)
  if (!speed || !resistance) {
    alert("input the speed and resistance of the ship to start the analysis ")
    //document.getElementById("choosefuel").reset();

  }
  else if (fuelName === "LNG"){
    // create new instance for LNG fuel.
   fuel_Consumption = new Mechineries();
    fuel_Consumption.fuelConsumption(LNG.density, LNG.LHV, LNG.HHV, LNG.SFC,requirePower.power,LNG.fuelName,requirePower.voyage);
    document.getElementById("mass").innerHTML = "the total mass of " +  LNG.fuelName + " is <br> " + "<strong>" +fuel_Consumption.mass + " tons</strong>"
    //fuel_Consumption.tank_volume = fuel_Consumption.tank_volume.toFixed(1);
    document.getElementById("tank_volume").innerHTML = "The required tank volume using " +  LNG.fuelName + " is  <br>"  + "<strong>" + fuel_Consumption.tank_volume + " m^3</strong>"
    document.getElementById("power").innerHTML = " The minimum propulsion power of the ship  is  <br>" + "<strong>" + requirePower.power + "kW <strong>"

  }
  else if (fuelName==="MGO") {
    // create new instance for MGO fuel.
    alert("only LNG data are available for analysis ")

    console.log(fuelName)
  }
  else if (fuelName==="hydrogen") {
    alert("only LNG data are available for analysis ")
    // create new instance for Hydrogen fuel.
    console.log(fuelName)

  }
  else if (fuelName==="HFO") {
    alert("only LNG data are available for analysis ")
    // create new instance for HFO fuel.
    console.log(fuelName)

  }

  }

//console.log("this is not ", fuelType)


</script>

</body>
